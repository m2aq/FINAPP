<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Torneos</title>
    <link rel="stylesheet" href="style.css">

    <!-- Incluir la librer√≠a MermaidJS para diagramas de bracket -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        // Inicializar MermaidJS cuando la p√°gina est√© lista
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof mermaid !== 'undefined') {
                // Configuraci√≥n recomendada para inicializaci√≥n
                mermaid.initialize({
                    startOnLoad: true, // Carga autom√°ticamente los gr√°ficos con la clase 'mermaid'
                    theme: 'default'   // Tema por defecto
                 });
            } else {
                console.error("La librer√≠a Mermaid no se ha cargado correctamente.");
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>üéÆ Gestor de Torneos üéÆ</h1>

        <!-- Secci√≥n de Control Global -->
        <div class="control-section">
            <button id="btnNuevoTorneo">‚ôªÔ∏è Nuevo Torneo</button>
        </div>

        <!-- Fase 1: Inscripci√≥n -->
        <section id="inscripcion-section">
            <h2>1. Inscripci√≥n de Participantes</h2>
            <div class="input-group">
                <label for="nombreParticipante">Nombre:</label>
                <input type="text" id="nombreParticipante" placeholder="Introduce nombre">
                <button id="btnAgregarParticipante">‚úö Agregar</button>
            </div>
            <h3>Participantes Inscritos:</h3>
            <ul id="listaParticipantes">
                <!-- Los participantes se a√±adir√°n aqu√≠ din√°micamente por JavaScript -->
                <li>No hay participantes inscritos todav√≠a.</li>
            </ul>
            <!-- Bot√≥n habilitado din√°micamente por JS -->
            <button id="btnIniciarRoundRobin" disabled>‚ñ∂ Iniciar Fase de Grupos</button>
        </section>

        <!-- Fase 2: Round Robin (oculta inicialmente) -->
        <section id="round-robin-section" class="hidden">
            <h2>2. Fase de Grupos (Todos contra Todos)</h2>
            <div class="content-wrapper">
                <div class="matches-section">
                    <h3>Partidos</h3>
                    <div id="partidosRoundRobin">
                        <!-- Los partidos del Round Robin se mostrar√°n aqu√≠ -->
                    </div>
                    <!-- Bot√≥n habilitado din√°micamente por JS -->
                    <button id="btnIniciarBracket" disabled>‚ñ∂ Iniciar Fase de Eliminatorias</button>
                </div>
                <div class="standings-section">
                    <h3>Tabla de Posiciones</h3>
                    <table id="tablaPosiciones">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Nombre</th>
                                <th>Puntos</th>
                                <th>V</th>
                                <th>D</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- La tabla se llenar√° aqu√≠ din√°micamente por JavaScript -->
                            <tr>
                                <td colspan="5">Generando tabla...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Fase 3: Bracket (oculta inicialmente) -->
        <section id="bracket-section" class="hidden">
            <h2>3. Bracket de Eliminatorias</h2>
            
            <!-- Contenedor para la visualizaci√≥n est√°tica del bracket con Mermaid -->
            <div class="bracket-container">
                <div id="bracketDisplay">
                    <!-- Mermaid generar√° su salida aqu√≠ -->
                    <p>Generando el bracket...</p>
                </div>
            </div>
            
            <!-- Nueva Secci√≥n: Controles para partidos pendientes del Bracket -->
            <!-- Oculta por defecto y se muestra cuando hay partidos pendientes -->
            <div id="bracket-controls-section" class="hidden">
                <h3>Partidos Pendientes del Bracket:</h3>
                <div id="pendingBracketMatches">
                    <!-- Los partidos pendientes y sus controles (selects, botones) se cargar√°n aqu√≠ -->
                </div>
            </div>

            <!-- Secci√≥n para mostrar al campe√≥n -->
            <div class="winner-section">
                <h3 id="campeonDisplay"></h3>
            </div>
        </section>

    </div> <!-- Cierre de .container -->

    <!-- El script principal que maneja toda la l√≥gica -->
    <script src="script.js"></script>
</body>
</html>
