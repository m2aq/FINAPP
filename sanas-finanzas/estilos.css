/* Definición de variables CSS para una gestión más limpia y consistente de colores */
:root {
  --primary-color: #28a745; /* Verde principal */
  --primary-hover: #218838; /* Verde más oscuro para efectos hover */
  --danger-color: #dc3545;  /* Rojo para gastos/errores */
  --danger-hover: #c82333;  /* Rojo más oscuro para efectos hover */

  --background-light: #f8f9fa; /* Fondo principal claro */
  --card-background: #ffffff;  /* Fondo de contenedores/tarjetas */
  --border-color: #ced4da;     /* Color de bordes suave */
  --text-dark: #212529;        /* Texto principal oscuro */
  --text-light: #6c757d;       /* Texto secundario o descripciones */

  --shadow-light: rgba(0, 0, 0, 0.05); /* Sombra muy suave */
  --shadow-medium: rgba(0, 0, 0, 0.08);/* Sombra media */
  --shadow-strong: rgba(0, 0, 0, 0.15);/* Sombra fuerte para contenedores principales */

  --transition-speed: 0.25s; /* Velocidad de las transiciones */
}

/* Estilos base para el body, sin flexbox para centrado general de un bloque */
body {
  font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  background: var(--background-light);
  margin: 0;
  padding: 20px; /* Padding inicial */
  color: var(--text-dark);
  box-sizing: border-box; /* Asegura que padding se incluya en el tamaño total */
  min-height: 100vh; /* Asegura que el body ocupa toda la altura para que el centrado funcione bien */
}

.contenedor {
  background: var(--card-background);
  padding: 35px 40px; /* Espaciado interior mayor */
  border-radius: 18px; /* Bordes más redondeados */
  max-width: 500px;
  width: 100%; /* Permite que el contenedor ocupe el máximo ancho posible */
  box-shadow: 0 12px 25px var(--shadow-strong); /* Sombra más profunda y notable */
  text-align: center; /* Centra elementos de texto/botones dentro del contenedor */
  transition: opacity var(--transition-speed) ease-in-out,
              transform var(--transition-speed) ease-in-out,
              box-shadow var(--transition-speed) ease-in-out;

  /* Asegura el centrado horizontal usando márgenes automáticos */
  margin-left: auto;
  margin-right: auto;
  margin-top: 30px; /* Espacio desde la parte superior */
}

/* Estado para ocultar elementos de forma animada */
.oculto {
  opacity: 0;
  visibility: hidden; /* Oculta el elemento y lo quita del flujo de clics */
  transform: translateY(-20px); /* Efecto sutil de mover hacia arriba al ocultar */
  pointer-events: none; /* Impide que se interactúe con él */
}

/* Estado para mostrar elementos de forma animada */
.visible {
  opacity: 1;
  visibility: visible;
  transform: translateY(0); /* Vuelve a su posición normal */
  pointer-events: auto; /* Permite la interacción */
}


h1 {
  color: var(--primary-color); /* Título principal con el color verde */
  margin-bottom: 30px;
  font-size: 2.3em; /* Tamaño de título grande */
  letter-spacing: -0.5px; /* Ajuste fino de espaciado entre letras */
  font-weight: 700; /* Negrita destacada */
}

/* Estilos para los campos de entrada (inputs, selects) */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
select {
  font-size: 1rem; /* Fuente estándar */
  font-weight: 500;
  border-radius: 16px; /* Bordes redondeados consistentes */
  border: 2px solid var(--border-color); /* Borde suave */
  padding: 15px 18px; /* Espacio interno mayor */
  margin: 10px 0; /* Margen vertical entre campos */
  width: calc(100% - 40px); /* Ancho total menos padding interno (padding-left + padding-right) */
  box-sizing: border-box; /* Incluye padding en el cálculo del width total */
  outline-offset: 4px; /* Espacio entre el borde y el foco */
  transition: border-color var(--transition-speed) ease-in-out,
              box-shadow var(--transition-speed) ease-in-out;
}

/* Estilo para los placeholders */
input::placeholder,
select::placeholder {
  color: var(--text-light); /* Color suave para placeholders */
}

/* Estilo al enfocar (focus) los campos */
input:focus,
select:focus {
  border-color: var(--primary-color); /* Borde verde al enfocar */
  box-shadow: 0 0 10px rgba(40, 167, 69, 0.35); /* Sombra de enfoque con un toque verde */
}

/* Estilo para el selector (select), añadiendo una flecha personalizada */
select {
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%270%200%2024%2024%27%20fill%3D%27none%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Cpath%20d%3D%27M7%2010L12%2015L17%2010%27%20stroke%3D%27%236c757d%27%20stroke-width%3D%271.5%27%20stroke-linecap%3D%27round%27%20stroke-linejoin%3D%27round%27/%3E%3C/svg%3E'); /* Flecha del selector */
    background-repeat: no-repeat;
    background-position: right 15px center; /* Posiciona la flecha */
    background-size: 1.2em; /* Tamaño de la flecha */
    -webkit-appearance: none; /* Elimina el aspecto nativo en navegadores WebKit */
    -moz-appearance: none;    /* Elimina el aspecto nativo en Firefox */
    appearance: none;         /* Elimina el aspecto nativo estándar */
}

/* Estilo general de los botones */
button {
  background-color: var(--primary-color);
  color: white;
  border: none;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: 0.04em;
  padding: 15px 25px; /* Padding para un tamaño agradable */
  border-radius: 16px; /* Bordes redondeados consistentes */
  transition: background-color var(--transition-speed) ease-in-out,
              transform var(--transition-speed) ease-in-out,
              box-shadow var(--transition-speed) ease-in-out;
  display: inline-block; /* Necesario para que la transformación funcione */
  vertical-align: middle; /* Ayuda en la alineación */
}

/* Efecto al pasar el ratón por encima de un botón */
button:hover {
  background-color: var(--primary-hover); /* Verde más oscuro */
  transform: translateY(-3px); /* Levanta el botón sutilmente */
  box-shadow: 0 6px 12px rgba(40, 167, 69, 0.3); /* Sombra al pasar el ratón */
}

/* Contenedor para los botones de login/registro, aplica layout flex */
.btn-group-login {
  display: flex;
  gap: 15px; /* Espacio entre botones */
  margin-top: 25px;
  justify-content: center; /* Centra los botones horizontalmente */
}

/* Estilos para los botones de login/registro, para que ocupen espacio y se separen */
.btn-group-login button {
  flex-grow: 1; /* Cada botón toma el espacio disponible */
  flex-basis: 0; /* Permite que el espacio se distribuya equitativamente */
  min-width: 150px; /* Ancho mínimo para que los botones sean legibles */
  font-size: 1rem;
  padding: 15px 20px;
}

/* Controles del formulario de transacción (input descripción, monto, y botón tipo) */
.transaction-form-controls {
  display: flex;
  gap: 15px;
  flex-wrap: wrap; /* Permite que los elementos pasen a la siguiente línea si no caben */
  align-items: center;
  justify-content: center; /* Centra los elementos dentro del contenedor */
  margin-bottom: 15px; /* Margen inferior */
}

.flex-grow {
  flex-grow: 1; /* Permite que el elemento ocupe el espacio disponible */
  min-width: 150px; /* Ancho mínimo para evitar que el input se haga demasiado pequeño */
}

/* Botón de tipo (Ingreso/Gasto) */
.tipo-toggle-btn {
  width: 120px; /* Ancho fijo para consistencia */
  padding: 15px;
  font-size: 1rem;
  font-weight: 600;
  border-radius: 16px; /* Bordes redondeados */
  border: none; /* Sin borde por defecto */
  cursor: pointer;
  user-select: none; /* Evita la selección de texto al hacer clic */
  color: white;
  transition: background-color var(--transition-speed) ease-in-out,
              transform var(--transition-speed) ease-in-out,
              box-shadow var(--transition-speed) ease-in-out;
}

.tipo-ingreso { background-color: var(--primary-color); }
.tipo-ingreso:hover { background-color: var(--primary-hover); transform: translateY(-3px); box-shadow: 0 6px 12px rgba(40, 167, 69, 0.3);}

.tipo-gasto { background-color: var(--danger-color); }
.tipo-gasto:hover { background-color: var(--danger-hover); transform: translateY(-3px); box-shadow: 0 6px 12px rgba(220, 53, 69, 0.3);}

.error-msg {
  color: var(--danger-color); /* Color rojo para mensajes de error */
  font-weight: 500;
  margin: 10px 0 0 0;
  font-size: 0.9em;
  text-align: left; /* Alinea el mensaje a la izquierda */
  padding-left: 5px; /* Un pequeño margen izquierdo para indentar */
}

/* Estilo para cada ítem de la lista de movimientos (como tarjetas) */
.movimiento-item {
  display: flex;
  justify-content: space-between; /* Distribuye espacio entre texto y botón */
  align-items: center; /* Alinea verticalmente los elementos */
  padding: 15px 20px; /* Espaciado interno */
  margin-bottom: 12px; /* Margen entre cada movimiento */
  border: 1px solid var(--border-color); /* Borde sutil */
  border-radius: 14px; /* Bordes redondeados */
  background: var(--card-background); /* Fondo blanco propio */
  box-shadow: 0 4px 15px var(--shadow-light); /* Sombra muy ligera para dar profundidad */
  transition: transform var(--transition-speed) ease-in-out,
              box-shadow var(--transition-speed) ease-in-out;
  text-align: left; /* Alinea el texto dentro del ítem a la izquierda */
}

/* Efecto al pasar el ratón sobre un ítem de la lista */
.movimiento-item:hover {
  transform: translateX(8px); /* Desplazamiento ligero hacia la derecha */
  box-shadow: 0 8px 20px var(--shadow-medium); /* Sombra más marcada */
}

.movimiento-text {
  flex-grow: 1; /* Permite que el texto ocupe el espacio disponible */
  font-size: 1rem; /* 16px */
  margin-right: 15px; /* Espacio entre el texto y el botón de eliminar */
  line-height: 1.4; /* Espaciado entre líneas */
}
/* Estilo para el monto dentro del texto, para que resalte */
.movimiento-text span {
  font-weight: 600; /* Monto en negrita */
}

/* Colores específicos para mostrar el tipo de movimiento en el texto */
.ingreso-val { color: var(--primary-color); }
.gasto-val { color: var(--danger-color); }

/* Botón de eliminar (la 'x') */
.eliminar-btn {
  background-color: transparent;
  border: none;
  color: var(--danger-color); /* Color rojo para el botón */
  cursor: pointer;
  font-weight: 700;
  font-size: 1.4rem; /* Icono más grande */
  padding: 0 10px; /* Espaciado alrededor del icono */
  user-select: none;
  opacity: 0.7; /* Opacidad por defecto */
  transition: opacity var(--transition-speed) ease-in-out,
              transform 0.15s ease-in-out; /* Transición suave */
}
/* Al pasar el ratón sobre el ítem, el botón de eliminar se hace más visible */
.movimiento-item:hover .eliminar-btn {
    opacity: 1; /* Completamente visible */
}
/* Efecto al pasar el ratón directamente sobre el botón de eliminar */
.eliminar-btn:hover {
  transform: scale(1.1); /* Pequeño aumento de tamaño */
}

/* Encabezado de la sección de la app (Título y botón de logout) */
.header-app {
  display: flex;
  justify-content: space-between; /* Mueve los elementos a los extremos */
  align-items: center; /* Alinea verticalmente */
  margin-bottom: 20px;
}

/* Sección del resumen (ingresos, gastos, balance) */
.resumen {
  margin-top: 30px;
  padding: 20px 25px;
  border-radius: 16px; /* Bordes redondeados */
  background: linear-gradient(to right, #e9f7ef, #f0fff4); /* Fondo degradado sutil */
  display: flex;
  justify-content: space-around; /* Distribuye los ítems de manera uniforme */
  flex-wrap: wrap; /* Permite que los ítems pasen a la siguiente línea */
  gap: 15px; /* Espacio entre los ítems del resumen */
  text-align: center;
}

.resumen-item {
  flex: 1; /* Cada ítem ocupa espacio proporcionalmente */
  min-width: 120px; /* Ancho mínimo para asegurar la correcta visualización */
  color: var(--text-dark);
  font-weight: 600;
  font-size: 1.1em; /* Fuente ligeramente mayor */
}

.resumen-ingresos {
  color: var(--primary-color); /* Verde para ingresos */
}

.resumen-gastos {
  color: var(--danger-color); /* Rojo para gastos */
}

/* Estilo para los números del resumen */
.resumen-item span {
    display: block; /* Asegura que el valor esté en su propia línea */
    font-weight: 700; /* Números en negrita */
    font-size: 1.3em; /* Fuente más grande para los totales */
}

/* Contenedor para el gráfico */
.resumen-graficos {
    margin-top: 40px;
    background: var(--card-background);
    padding: 25px;
    border-radius: 18px;
    box-shadow: 0 6px 15px var(--shadow-light); /* Sombra ligera */
    text-align: center; /* Centra el título */
}

.resumen-graficos h2 {
    color: var(--text-dark);
    font-size: 1.6em; /* Tamaño del título del gráfico */
    margin-bottom: 20px; /* Espacio debajo del título */
    font-weight: 600;
}

/* Título del historial */
.historial-title {
  margin-top: 40px;
  color: var(--text-light);
  font-size: 1.3em; /* Tamaño más sutil */
  font-weight: 600;
  text-align: left;
  padding-left: 5px;
}

/* Media Query para ajustar estilos en pantallas más pequeñas (móviles) */
@media (max-width: 600px) {
  body {
    padding: 10px; /* Menos padding en el body en móvil */
  }
  .contenedor {
    padding: 25px 30px; /* Menos padding interno en móvil */
    /* Añadimos márgenes específicos para asegurar el centrado */
    margin-top: 10px; /* Reducimos el margen superior */
    margin-left: auto;
    margin-right: auto;
    /* En móvil, es posible que necesitemos limitar el ancho de forma relativa */
    width: 100%; /* Asegura que ocupe todo el ancho posible dentro del body padding */
  }
  h1 {
    font-size: 1.9em; /* Título un poco más pequeño en móvil */
  }
  /* Ajustes para inputs, selects y botones toggles en móvil */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  select,
  .tipo-toggle-btn {
    font-size: 0.95rem;
    padding: 12px 15px;
  }

  /* Los botones de login/registro en móvil se apilan verticalmente */
  .btn-group-login {
    flex-direction: column;
    align-items: stretch; /* Ocupan todo el ancho disponible */
  }
  .btn-group-login button {
    width: 100%; /* Cada botón ocupa el ancho total */
    margin: 8px auto; /* Margen para separarlos */
    display: block;
  }

  /* Controles del formulario de transacción en móvil */
  .transaction-form-controls {
    flex-direction: column; /* Apila los elementos verticalmente */
    align-items: stretch; /* Extiende para ocupar todo el ancho */
  }
  .flex-grow {
    min-width: auto; /* Permite que el flex-grow funcione mejor en columna */
    width: 100%;
  }
  /* El botón toggle de tipo también se estira */
  .tipo-toggle-btn {
      width: 100%; /* Que también sea de ancho completo si está apilado */
  }

  /* Los ítems del resumen se apilan verticalmente en móvil */
  .resumen {
    flex-direction: column;
    align-items: stretch;
  }
  .resumen-item {
    margin-bottom: 10px; /* Espacio entre resúmenes apilados */
    padding: 10px 0; /* Ajuste de padding vertical */
  }
  .resumen-item span {
    font-size: 1.1em; /* Mantiene los totales legibles */
  }

  /* Ajustes generales para la sección de gráfico en móvil */
  .resumen-graficos {
    padding: 15px;
  }
  .resumen-graficos h2 {
    font-size: 1.3em; /* Título del gráfico más pequeño */
  }

  /* Título del historial también más pequeño */
  .historial-title {
    font-size: 1.1em;
  }
}
